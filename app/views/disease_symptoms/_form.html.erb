<%= form_with model: @disease_symptom, url:, html: { class: "dash-form" } do |f| %>
  <div data-controller="toggle-input">
    <div class="dash-form__container">
      <div class="dash-form__group">
        <div class="dash-form__group__container">
          <div class="dash-form__group__left">
            <div class="dash-form__group__title">Objawy choroby</div>
            <p class="dash-form__group__description">Wybierz jeden z listy objawów tej choroby.</p>
          </div>
          <div class="dash-form__group__right" >
            <%= f.select :predefined_symptom_id, options_for_select(@predefined_symptoms, @disease_symptom.predefined_symptom_id),
            { include_blank: true }, class: "dash-form__input dash-form__select", data: { toggle_input_target: "select" },
            placeholder: "Wybierz objaw" %>
            <div class="dash-form__checkbox" >
              <%= check_box_tag :custom_symptom, 0, @disease_symptom.name.present?, class: "dash-form__checkbox__input",
                  data: { toggle_input_target: "checkbox", action: "input->toggle-input#toggle" }%>
              <%= label_tag :custom_symptom, "Nie ma twojego objawu na liście?", class: "dash-form__checkbox__label" %>
            </div>
          </div>
        </div>
        <%= render DashFormErrorComponent.new(model: @disease_symptom, field: :predefined_symptom_id) %>
      </div>
    </div>
    <div class="dash-form__container dash-form__container--hidden" data-toggle-input-target="container">
      <div class="dash-form__group">
        <div class="dash-form__group__container">
          <div class="dash-form__group__left">
            <div class="dash-form__group__title">Własny objaw</div>
            <p class="dash-form__group__description">Nazwij krótko towarzyszący ci objaw.</p>
          </div>
          <div class="dash-form__group__right">
            <%= f.text_field :name, class: "dash-form__input", data: { toggle_input_target: "input" } %>
          </div>
        </div>
        <%= render DashFormErrorComponent.new(model: @disease_symptom, field: :name) %>
      </div>
    </div>
  </div>
  <div class="dash-form__container">
    <div class="dash-form__group">
      <div class="dash-form__group__container">
        <div class="dash-form__group__left">
          <div class="dash-form__group__title">Opis objawu</div>
          <p class="dash-form__group__description">Opisz swoimi słowami, skąd wiesz o tym objawie i jak bardzo ci on przeszkadza.</p>
        </div>
        <div class="dash-form__group__right">
          <%= f.text_area :description, class: "dash-form__input dash-form__textarea" %>
        </div>
      </div>
      <%= render DashFormErrorComponent.new(model: @disease_symptom, field: :description) %>
    </div>
  </div>
  <div class="dash-form__container">
    <div class="dash-form__group">
      <div class="dash-form__group__container">
        <div class="dash-form__group__left">
          <div class="dash-form__group__title">Od kiedy to trwa?</div>
          <p class="dash-form__group__description">Kiedy pierwszy raz zaobserwowałeś dany objaw.</p>
        </div>
        <div class="dash-form__group__right">
          <%= f.date_field :first_noticed_at, class: "dash-form__input dash-form__input-date" %>
        </div>
      </div>
      <%= render DashFormErrorComponent.new(model: @disease_symptom, field: :first_noticed_at) %>
    </div>
  </div>
  <div class="dash-form__group">
    <%= f.submit "Zapisz", class: "dash-form__submit dash-button dash-button--new" %>
  </div>
<% end %>
