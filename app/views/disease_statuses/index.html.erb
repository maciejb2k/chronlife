<div class="page-disease-statuses">
  <header class="dash-header">
    <div class="dash-header__left">
      <h1 class="dash-header__title">
        <i class="ri-hearts-line dash-header__title__icon"></i>
        Stan zdrowia
      </h1>
      <%= render "shared/breadcrumbs" %>
    </div>
    <div class="dash-header__right">
      <%= link_to new_disease_disease_status_path, class: "dash-button dash-button--new" do %>
        <i class="ri-add-line dash-button__icon"></i>
        Dodaj aktualizację
      <% end %>
      <%= link_to @disease, class: "dash-button dash-button--back" do %>
        <i class="ri-arrow-left-line dash-button__icon"></i>
      <% end %>
    </div>
  </header>
  <div class="dash-flash-messages">
    <% if flash[:notice].present? %>
      <%= render DashAlertComponent.new(type: :success) do %>
        <%= flash[:notice] %>
      <% end %>
    <% end %>
  </div>
  <div class="page-disease-statuses__content">
    <% if @disease_statuses.to_a.any? %>
      <% @disease_statuses.each do |disease_status| %>
        <div class="disease-statuses-container">
          <%= render partial: disease_status, locals: { disease: @disease, disease_status: } %>
        </div>
      <% end %>
    <% else %>
      <p class="no-results">
        Na razie nie dodałeś żadnych aktualizacji.
      </p>
    <% end %>
  </div>
  <div class="dash-pagination">
    <div class="dash-pagination__controls">
      <%== pagy_nav(@pagy) if @pagy.pages > 1 %>
    </div>
    <div class="dash-pagination__info">
      <%== pagy_info(@pagy) %>
    </div>
  </div>
</div>
